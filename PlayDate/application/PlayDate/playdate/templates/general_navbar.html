{% load static %}
{% url 'about' as about %}
{% url 'publicevents' as publicevents %}

<style>
    .active {
        color: rgb(0, 6, 10);
        text-decoration: underline;
    }
    body {
        padding-top: 70px;
    }
</style>
<nav class="navbar navbar-expand-lg bg-light fixed-top">
    <div class="container-fluid">
        <a class="logo navbar-brand" href="/" style="font-family: 'Gill Sans', sans-serif;color:#0d6efd;">
            <h5><b>PlayDate</b></h5>
        </a>
        <ul class="navbar-nav mx-2 mb-lg-0">
            <a class="nav-link {% if request.path == publicevents %} active {% endif %}" aria-current="page"
                href="/events/public-events/">Public Events</a>
            <a class="nav-link {% if request.path == about %} active {% endif %}" aria-current="page"
                href="/about">About</a>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                    aria-expanded="false" href="{% url 'about' %}"></a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="/about/soujanya">Soujanya</a></li>
                    <li><a class="dropdown-item" href="/about/andy">Andy</a></li>
                    <li><a class="dropdown-item" href="/about/margaret">Margaret</a></li>
                    <li><a class="dropdown-item" href="/about/martin">Martin</a></li>
                    <li><a class="dropdown-item" href="/about/qin">Qin</a></li>
                    <li><a class="dropdown-item" href="/about/william">William</a></li>
                    <li><a class="dropdown-item" href="/about/victor">Victor</a></li>
                </ul>
            </li>
        </ul>

        <!-- Search Field -->
        <form class="search-field  button mx-auto d-flex" role="search" action="{% url 'events' %}" method="GET"
            value="{{request.GET.q}}">
            {% if hide_search %}{% else %}
            <div id="filter" class="dropdown">
                <select id="filterText" class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton1"
                    data-bs-toggle="dropdown" aria-expanded="false" name="category" id="select-item"
                    onchange="SubmitEvent();">
                    Search For
                    <option selected="selected" value="All">All</option>
                    <option value="Kids">Kids</option>
                    <option value="Pets">Pets</option>
                </select>
            </div>
            <input class="form-control me-1" type="search" name="q" value="{{request.GET.q}}"
                placeholder="City, State, Zipcode" aria-label="Search">
            <button class="search-button-text btn btn-outline-success" name="submit" value="Search"
                type="submit">&#128269;</button>
                {% endif %}
        </form>

        <script>
            // Search: Elements
            let filter = document.getElementById("filter");
            let list = document.getElementById("list")
            let filterText = document.getElementById("filterText")
            let options = document.getElementsByClassName("options")
            // About: Elements
            let aboutDrop = document.getElementById("aboutDrop")
            let aboutList = document.getElementById("aboutList")
            // Search: Handlers
            filter.onclick = function () {
                list.classList.toggle("open");
            }
            for (option of options) {
                option.onclick = function () {
                    filterText.innerHTML = "Search " + this.innerHTML;
                }
            }
            // About: Handlers
            aboutDrop.onclick = function () {
                aboutList.classList.toggle("open");
            }
        </script>
        <ul class="navbar-nav mx-2 mb-lg-0">
            <a class="signUp nav-link {% if request.path == register %} active {% endif %}" aria-current="page"
                href="/register">Sign Up</a>
            <a class="logIn nav-link {% if request.path == login %} active {% endif %}" aria-current="page"
                href="/login">Log In</a>
        </ul>
    </div>

</nav>